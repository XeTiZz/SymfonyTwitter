{% block stylesheets %}
<link rel="stylesheet" href="css/twitterTweet2.css">
{% endblock %}

{% block body %}

<a class="noneUnderline" href="{{ path('thisPoste', { id: message.id }) }}">
    {# <div class="container mt-5">
        <div class="card border rounded mb-2">
            <div id="myPost" class="card-body">
                <p class="card-title"> <img src="{{asset(message.util.pfpUser)}}" class="pfpTweet"> {{message.util.pseudoUtil}} - {{message.dateCreaMessage|date("m/d/Y") }} </p>
                <p class="contenuTweet">{{message.texteMessage}}</p>
                {% if message.image %}
                <img src="{{asset(message.image)}}" type="video/mp4" class="card-img-bottom imageTweet">
                {% endif %}
                <p class="interactionPost">
                <img src={{ asset('image/Bulle.png') }} class="w3-image" width="3%" height="3%">{{message.likeMessage}}
                <img src={{ asset('image/Like.png') }} class="w3-image" width="3%" height="3%"> {{message.rtMessage}}
                <img src={{ asset('image/RT.png') }} class="w3-image" width="3%" height="3%"></p>
                </p>
            </div>
        </div>  
    </div> #}

    <div class="container mt-5">
        <div class="card border rounded mb-2">
            <div class="card-body">
                <div class="tweetGrid">
                    <div class="">
                        <img src="{{asset(message.util.pfpUser)}}" class="pfpTweet">
                    </div>
                    <div class="">
                        <p class="card-title"> {{message.util.pseudoUtil}}  <span  class="card-subtitle mb-2 text-muted">- {{message.dateCreaMessage|date("m/d/Y") }}</span></p>
                    </div>

                    <div>
                    </div>

                    <div class="">
                        <p class="contenuTweet">{{message.texteMessage}}</p>
                        {% if message.image %}
                        <br>
                        <img src="{{asset('image/' ~ message.image)}}" class="card-img-bottom imageTweet">
                        <br>
                        {% endif %} 
                    </div>
    
                    <div class="">
                    </div>

                    <div class="bottomTweet">
                        <i class="ti-comment menu-icon"></i>
                        <i class="ti-reload menu-icon">{{ message.rtMessage }}</i>
                        {% set liked = false %}
                        {% if app.user %}
                            {% for like in message.likes %}
                                {% if like.user == app.user %}
                                    {% set liked = true %}
                                {% endif %}
                            {% endfor %}
                        {% endif %}
                        {% if app.user %}
                            {% if liked %}
                                <a class="flex w-fit" href="{{ path('unlike.post', {id: message.id}) }}" data-action="unlike" data-nb="{{ message.likes|length }}">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h6 w-6 filled" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"/>
                                    </svg>
                                </a>
                            {% else %}
                                <a class="flex w-fit" href="{{ path('like.post', {id: message.id}) }}" data-action="like" data-nb="{{ message.likes|length }}">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 unfilled" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
                                    </svg>
                                </a>
                            {% endif %}
                            <span class="ml-2">{{ message.likes|length }} J'aime</span>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</a>
{% endblock %}